CREATE DATABASE PHANMEMTRACUUNHACSY_CASY
USE PHANMEMTRACUUNHACSY_CASY
CREATE TABLE NHACSY(
	MANHACSY CHAR(10),
  	TENNHACSY NVARCHAR(20),
  	DIACHI NVARCHAR(20),
  	SODIENTHOAI CHAR(20),
  	PRIMARY KEY (MANHACSY)
)
CREATE TABLE CASY(
  MACASY CHAR(10),
  TENCASY NVARCHAR(20),
  DIACHI NVARCHAR(20),
  SODIENTHOAI CHAR(20),
  PRIMARY KEY(MACASY)		
  )
CREATE TABLE BAIHAT(
  MABAIHAT CHAR(10),
  TENBAIHAT NVARCHAR(50),
  GIAIDIEU NVARCHAR(10),
  MATHELOAI CHAR(10),
  MANHACSY CHAR(10),
  GHICHU NVARCHAR(50),
  PRIMARY KEY(MABAIHAT)
  )
CREATE TABLE THUCHIEN(
   MATHUCHIEN CHAR(10),
   MACASY CHAR(10),
   MABAIHAT CHAR(10),
   MABANNHAC CHAR(10),
   PRIMARY KEY(MATHUCHIEN)
   )
CREATE TABLE THELOAI(
    MATHELOAI CHAR(10),
    TENTHELOAI NVARCHAR(20),
    PRIMARY KEY(MATHELOAI)
    )
CREATE TABLE BANNHAC(
  MABANNHAC CHAR(10),
  TENBANNHAC NVARCHAR(20),
  SODTLIENHE CHAR(20),
  MATRUONGNHOM CHAR(10),
  PRIMARY KEY(MABANNHAC)
  )
CREATE TABLE NHACCONG(
  MANHACCONG CHAR(10),
  TENNHACCONG NVARCHAR(20),
  NHACCUSUDUNG NVARCHAR(20),
  MABANNHAC CHAR(10),
  PRIMARY KEY(MANHACCONG)
  )
ALTER TABLE BAIHAT
ADD CONSTRAINT FK_BAIHAT_MATHELOAI FOREIGN KEY (matheloai) REFERENCES THELOAI(matheloai)
ALTER TABLE BAIHAT 
ADD CONSTRAINT FK_BAIHAT_MANHACSY FOREIGN KEY(MANHACSY) REFERENCES NHACSY(MANHACSY) 
ALTER TABLE THUCHIEN
ADD CONSTRAINT FK_THUCHIEN_MACASY FOREIGN KEY(MACASY) REFERENCES CASY(MACASY)
ALTER TABLE THUCHIEN
ADD CONSTRAINT FK_THUCHIEN_MABAIHAT FOREIGN KEY(MABAIHAT) REFERENCES BAIHAT(MABAIHAT)
ALTER TABLE THUCHIEN
ADD CONSTRAINT FK_THUCHIEN_MABANNHAC FOREIGN KEY(MABANNHAC) REFERENCES BANNHAC(MABANNHAC)
ALTER TABLE NHACCONG
ADD CONSTRAINT FK_NHACCONG_MABANNHAC FOREIGN KEY(MABANNHAC) REFERENCES BANNHAC(MABANNHAC)
INSERT INTO NHACSY VALUES
('NS01',N'HỒ HOÀI ANH', N'HÀ NỘI','097542514'),
('NS02',N'DƯƠNG CẦM', N'HÀ NỘI','078692347'),
('NS03',N'VĂN CAO', N'HÀ NỘI','095436772')
INSERT INTO CASY VALUES
('CS01',N'SƠN TÙNG MTP',N'THÁI BÌNH','0765742054'),
('CS02',N'THIỀU BẢO TRÂM',N'HÀ NỘI','085634551'),
('CS03',N'LÊ BẢO BÌNH',N'HẢI PHÒNG','0854369234')
INSERT INTO THELOAI VALUES
('TL01','V-POP'),
('TL02','BALLAD'),
('TL03','RAP')
INSERT INTO BAIHAT VALUES
('BH01',N'EM CỦA NGÀY HÔM QUA',N'SÔI ĐỘNG','TL01','NS01','TOP 1 TRENDING'),
('BH02',N'EM CUA QUA KHU',N'BUỒN RẦU','TL02','NS03',N'BÀI HÁT NÃO NỀ'),
('BH03',N'BƯỚC QUA ĐỜI NHAU',N'NHẠC TÌNH','TL02','NS02',N'BÀI HÁT TRẺ')
INSERT INTO BANNHAC VALUES
('BN01',N'BAN NHẠC HỀ','0958346714','TN01'),
('BN02',N'BỨC TƯỜNG','095246135','TN02'),
('BN03',N'CON SÂU','0953476123','TN03')
INSERT INTO NHACCONG VALUES
('NC01',N'MINH QUÂN',N'TRỐNG','BN01'),
('NC02',N'TRUNG HIẾU',N'ĐÀN PIANO','BN02'),
('NC03',N'HIẾU QUÂN',N'KÈN','BN03')
INSERT INTO THUCHIEN VALUES
('TH01','CS01','BH01','BN01'),
('TH02','CS02','BH02','BN02'),
('TH03','CS03','BH03','BN03')  